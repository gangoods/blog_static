<svg xmlns="http://www.w3.org/2000/svg" width="731" height="795" preserveAspectRatio="none" style="width:731px;height:795px;background:#eeebdc"><path fill="#EEEBDC" d="M0 0h731v795H0z" style="stroke:none;stroke-width:1"/><text x="323.75" y="22.995" font-family="sans-serif" font-size="14" font-weight="bold" textLength="70">k8s的设计</text><path fill="none" d="M7 216.587h413v427.89H7z" style="stroke:#181818;stroke-width:1"/><text x="179.5" y="231.582" font-family="sans-serif" font-size="14" font-weight="bold" textLength="68">Informer</text><path fill="none" d="M31 259.587h365v360.89H31z" style="stroke:#181818;stroke-width:1"/><text x="175" y="274.582" font-family="sans-serif" font-size="14" font-weight="bold" textLength="77">controller</text><path fill="none" d="M228 302.587h144v201.6H228z" style="stroke:#181818;stroke-width:1"/><path fill="none" d="M352 307.587h15v10h-15z" style="stroke:#181818;stroke-width:1"/><path fill="none" d="M350 309.587h4v2h-4zM350 313.587h4v2h-4z" style="stroke:#181818;stroke-width:1"/><text x="264" y="328.582" font-family="sans-serif" font-size="14" font-weight="bold" textLength="72">Reflector</text><rect width="110" height="36.297" x="270" y="568.187" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="280" y="591.182" font-family="sans-serif" font-size="14" textLength="90">processLoop</text><path fill="#FEFFDD" d="M99.5 342.587v26.297h109v-16.297l-10-10h-99" style="stroke:#181818;stroke-width:.5"/><path fill="#FEFFDD" d="M198.5 342.587v10h10l-10-10" style="stroke:#181818;stroke-width:1"/><text x="105.5" y="360.582" font-family="sans-serif" font-size="14" textLength="88">先获取,再监听</text><path fill="#FEFFDD" d="M135.5 456.887v26.297h77v-16.297l-10-10h-67" style="stroke:#181818;stroke-width:.5"/><path fill="#FEFFDD" d="M202.5 456.887v10h10l-10-10" style="stroke:#181818;stroke-width:1"/><text x="141.5" y="474.882" font-family="sans-serif" font-size="14" textLength="56">放进队列</text><path fill="#FEFFDD" d="M47 573.187v26.297h188v-16.297l-10-10H47" style="stroke:#181818;stroke-width:.5"/><path fill="#FEFFDD" d="M225 573.187v10h10l-10-10" style="stroke:#181818;stroke-width:1"/><text x="53" y="591.182" font-family="sans-serif" font-size="14" textLength="167">内部是DeltaFIFO pop操作</text><rect width="113" height="36.297" x="243.5" y="337.587" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="253.5" y="360.582" font-family="sans-serif" font-size="14" textLength="93">ListAndWatch</text><rect width="86" height="36.297" x="255" y="451.887" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="265" y="474.882" font-family="sans-serif" font-size="14" textLength="66">DeltaFIFO</text><rect width="71" height="36.297" x="654.5" y="568.187" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="664.5" y="591.182" font-family="sans-serif" font-size="14" textLength="51">indexer</text><rect width="112" height="36.297" x="436" y="568.187" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="446" y="591.182" font-family="sans-serif" font-size="14" textLength="92">HandleDeltas</text><rect width="105" height="46.297" x="247.5" y="44.297" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><path fill="#F1F1F1" d="M332.5 49.297h15v10h-15z" style="stroke:#181818;stroke-width:.5"/><path fill="#F1F1F1" d="M330.5 51.297h4v2h-4zM330.5 55.297h4v2h-4z" style="stroke:#181818;stroke-width:.5"/><text x="262.5" y="77.292" font-family="sans-serif" font-size="14" textLength="65">APIServer</text><rect width="171" height="36.297" x="406.5" y="753.477" fill="#F1F1F1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:.5"/><text x="416.5" y="776.472" font-family="sans-serif" font-size="14" textLength="151">s.processor.distribute</text><path fill="none" d="M208.75 355.737h34.58" style="stroke:#00bfff;stroke-width:1;stroke-dasharray:7,7"/><path fill="none" d="M299.69 374.287c-.38 21.09-.892 50.28-1.272 71.32" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m298.31 451.607 4.162-8.926-4.072 3.927-3.927-4.072z" style="stroke:#00bfff;stroke-width:1"/><text x="301" y="417.882" font-family="sans-serif" font-size="14" textLength="56">生产消息</text><path fill="none" d="M212.75 470.037h41.96" style="stroke:#00bfff;stroke-width:1;stroke-dasharray:7,7"/><path fill="none" d="M302.1 488.397c5.08 21.48 12.291 52.01 17.381 73.57" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m320.86 567.807 1.825-9.678-2.974 4.812-4.812-2.974z" style="stroke:#00bfff;stroke-width:1"/><text x="315" y="534.182" font-family="sans-serif" font-size="14" textLength="56">消费消息</text><path fill="none" d="M235.16 586.327h34.39" style="stroke:#00bfff;stroke-width:1;stroke-dasharray:7,7"/><path fill="none" d="M300 90.907v240.35" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m300 337.257 4-9-4 4-4-4z" style="stroke:#00bfff;stroke-width:1"/><text x="301" y="165.582" font-family="sans-serif" font-size="14" textLength="71">List/Watch</text><path fill="none" d="M380.45 586.327h49.34" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m435.79 586.327-9-4 4 4-4 4z" style="stroke:#00bfff;stroke-width:1"/><path fill="none" d="M492 604.907v142.2" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m492 753.107 4-9-4 4-4-4z" style="stroke:#00bfff;stroke-width:1"/><path fill="none" d="M548.47 586.327h99.58" style="stroke:#00bfff;stroke-width:1"/><path fill="#00BFFF" d="m654.05 586.327-9-4 4 4-4 4z" style="stroke:#00bfff;stroke-width:1"/><text x="566.25" y="579.322" font-family="sans-serif" font-size="14" textLength="70">更新到缓存</text></svg>