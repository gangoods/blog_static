<svg xmlns="http://www.w3.org/2000/svg" width="959" height="626" preserveAspectRatio="none" style="width:959px;height:626px;background:#fff"><rect width="45" height="36.297" x="10" y="294.32" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="20" y="317.315" font-family="sans-serif" font-size="14" textLength="25">k8s</text><rect width="52" height="36.297" x="105" y="20" fill="#90EE90" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="115" y="42.995" font-family="sans-serif" font-size="14" textLength="28">目的</text><text x="210" y="42.995" font-family="sans-serif" font-size="14" textLength="272">对开发者请求的N个应用部署到服务器(节点)</text><path fill="none" d="M157 38.148h50M55 312.469h10c15 0 15-274.32 30-274.32h10" style="stroke:#181818;stroke-width:1"/><rect width="136" height="36.297" x="105" y="144.078" fill="#FBC" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="115" y="167.073" font-family="sans-serif" font-size="14" textLength="112">为了达到这个目的</text><rect width="192" height="52.594" x="291" y="66.742" fill="#FF0" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="301" y="89.737" font-family="sans-serif" font-size="14" textLength="117">响应开发者的请求:</text><text x="301" y="106.034" font-family="sans-serif" font-size="14" textLength="168">让控制节点专门做这个事情</text><text x="536" y="61.292" font-family="sans-serif" font-size="14" textLength="84">需要校验请求</text><path fill="none" d="M483 93.04h10c15 0 15-36.595 30-36.595h10" style="stroke:#181818;stroke-width:1"/><text x="536" y="79.589" font-family="sans-serif" font-size="14" textLength="196">开发者需要部署不同类型的应用</text><text x="785" y="70.44" font-family="sans-serif" font-size="14" textLength="162">负载均衡, nginx web服务</text><path fill="none" d="M732 74.742h10c15 0 15-9.148 30-9.148h10" style="stroke:#181818;stroke-width:1"/><text x="785" y="88.737" font-family="sans-serif" font-size="14" textLength="158">集群类的, 比如redis 集群</text><path fill="none" d="M732 74.742h10c15 0 15 9.149 30 9.149h10M483 93.04h10c15 0 15-18.298 30-18.298h10" style="stroke:#181818;stroke-width:1"/><text x="536" y="97.886" font-family="sans-serif" font-size="14" textLength="140">需要对数据进行持久化</text><path fill="none" d="M483 93.04h50" style="stroke:#181818;stroke-width:1"/><text x="536" y="116.183" font-family="sans-serif" font-size="14" textLength="190">需要确定部署到哪个node节点</text><path fill="none" d="M483 93.04h10c15 0 15 18.296 30 18.296h10" style="stroke:#181818;stroke-width:1"/><text x="536" y="134.48" font-family="sans-serif" font-size="14" textLength="154">确保部署的应用达到预期</text><path fill="none" d="M483 93.04h10c15 0 15 36.593 30 36.593h10M241 162.227h10c15 0 15-69.188 30-69.188h10" style="stroke:#181818;stroke-width:1"/><rect width="122" height="52.594" x="291" y="181.672" fill="#ADD8E6" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="301" y="204.667" font-family="sans-serif" font-size="14" textLength="56">应用部署</text><text x="301" y="220.964" font-family="sans-serif" font-size="14" textLength="98">让工作节点来做</text><text x="466" y="152.776" font-family="sans-serif" font-size="14" textLength="4"> </text><text x="466" y="169.073" font-family="sans-serif" font-size="14" textLength="228">需要监听应用的状态,上报给控制节点</text><path fill="none" d="M413 207.969h10c15 0 15-51.89 30-51.89h10" style="stroke:#181818;stroke-width:1"/><text x="466" y="187.37" font-family="sans-serif" font-size="14" textLength="4"> </text><text x="466" y="203.667" font-family="sans-serif" font-size="14" textLength="130">拉取容器镜像,启动等</text><text x="466" y="219.964" font-family="sans-serif" font-size="14" textLength="4"> </text><path fill="none" d="M413 207.969h10c15 0 15-9.149 30-9.149h10" style="stroke:#181818;stroke-width:1"/><text x="466" y="238.261" font-family="sans-serif" font-size="14" textLength="255">访问负载均衡的应用时,到底访问哪个pod</text><path fill="none" d="M413 207.969h10c15 0 15 25.445 30 25.445h10" style="stroke:#181818;stroke-width:1"/><text x="466" y="256.558" font-family="sans-serif" font-size="14" textLength="4"> </text><text x="466" y="272.854" font-family="sans-serif" font-size="14" textLength="56">域名解析</text><path fill="none" d="M413 207.969h10c15 0 15 51.89 30 51.89h10M241 162.227h10c15 0 15 45.742 30 45.742h10M55 312.469h10c15 0 15-150.242 30-150.242h10" style="stroke:#181818;stroke-width:1"/><rect width="90" height="36.297" x="105" y="427.898" fill="gold" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="115" y="450.894" font-family="sans-serif" font-size="14" textLength="70">最终的设计</text><rect width="191" height="36.297" x="245" y="287.156" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="255" y="310.151" font-family="sans-serif" font-size="14" textLength="171">用户用yaml文件来描述请求</text><path fill="none" d="M195 446.047h10c15 0 15-140.742 30-140.742h10" style="stroke:#181818;stroke-width:1"/><rect width="80" height="36.297" x="245" y="399.75" fill="#FF0" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="255" y="422.745" font-family="sans-serif" font-size="14" textLength="56">控制节点</text><rect width="83" height="36.297" x="375" y="343.453" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="385" y="366.448" font-family="sans-serif" font-size="14" textLength="63">apiserver</text><text x="511" y="357.3" font-family="sans-serif" font-size="14" textLength="126">接收用户发起的请求</text><path fill="none" d="M458 361.602h10c15 0 15-9.149 30-9.149h10" style="stroke:#181818;stroke-width:1"/><text x="511" y="375.597" font-family="sans-serif" font-size="14" textLength="28">验证</text><path fill="none" d="M458 361.602h10c15 0 15 9.148 30 9.148h10M325 417.898h10c15 0 15-56.296 30-56.296h10" style="stroke:#181818;stroke-width:1"/><rect width="51" height="36.297" x="375" y="399.75" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="385" y="422.745" font-family="sans-serif" font-size="14" textLength="31">etcd</text><text x="479" y="422.745" font-family="sans-serif" font-size="14" textLength="70">数据持久化</text><path fill="none" d="M426 417.898h50M325 417.898h50" style="stroke:#181818;stroke-width:1"/><rect width="191" height="36.297" x="375" y="456.047" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="385" y="479.042" font-family="sans-serif" font-size="14" textLength="171">kube-controller-manager</text><text x="619" y="479.042" font-family="sans-serif" font-size="14" textLength="151">deployment controller</text><path fill="none" d="M566 474.195h50M325 417.898h10c15 0 15 56.297 30 56.297h10M195 446.047h10c15 0 15-28.149 30-28.149h10" style="stroke:#181818;stroke-width:1"/><rect width="80" height="36.297" x="245" y="540.492" fill="#ADD8E6" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="255" y="563.487" font-family="sans-serif" font-size="14" textLength="56">工作节点</text><rect width="72" height="36.297" x="375" y="512.344" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="385" y="535.339" font-family="sans-serif" font-size="14" textLength="52">kubelet</text><path fill="none" d="M325 558.64h10c15 0 15-28.148 30-28.148h10" style="stroke:#181818;stroke-width:1"/><rect width="97" height="36.297" x="375" y="568.641" fill="#F1F1F1" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:1.5"/><text x="385" y="591.636" font-family="sans-serif" font-size="14" textLength="77">kube-proxy</text><path fill="none" d="M325 558.64h10c15 0 15 28.15 30 28.15h10M195 446.047h10c15 0 15 112.594 30 112.594h10M55 312.469h10c15 0 15 133.578 30 133.578h10" style="stroke:#181818;stroke-width:1"/></svg>