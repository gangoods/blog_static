<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet" viewBox="0 0 965 587"><svg id="d2-svg" width="965" height="587" class="d2-3436181431" viewBox="-1 0 965 587"><rect width="965" height="587" x="-1" stroke-width="0" rx="0" style="fill:#fff"/><style>.d2-3436181431 .text-mono{font-family:&quot;d2-3436181431-font-mono&quot;}@font-face{font-family:d2-3436181431-font-mono;src:url(/stylesheets/font/Virgil-hand.woff2)}.d2-3436181431 .text-mono-bold{font-family:&quot;d2-3436181431-font-mono-bold&quot;}@font-face{font-family:d2-3436181431-font-mono-bold;src:url(/stylesheets/font/Virgil-hand.woff2)}.d2-3436181431 .text-mono-italic{font-family:&quot;d2-3436181431-font-mono-italic&quot;}@font-face{font-family:d2-3436181431-font-mono-italic;src:url(/stylesheets/font/Virgil-hand.woff2)}.connection,.shape{stroke-linejoin:round}.shape{shape-rendering:geometricPrecision}.connection{stroke-linecap:round}.d2-3436181431 .fill-N1{fill:#000410}.d2-3436181431 .fill-B5{fill:#f5f6f9}.d2-3436181431 .fill-B6{fill:#fff}.d2-3436181431 .stroke-B1,.d2-3436181431 .stroke-N1{stroke:#000410}@media screen and (prefers-color-scheme:dark){.d2-3436181431 .fill-N1{fill:#cdd6f4}.d2-3436181431 .fill-B5{fill:#45475a}.d2-3436181431 .fill-B6{fill:#313244}.d2-3436181431 .stroke-N1{stroke:#cdd6f4}.d2-3436181431 .stroke-B1{stroke:#cba6f7}}.dots-overlay{fill:url(#dots);mix-blend-mode:multiply}</style><defs><pattern id="dots" width="15" height="15" x="0" y="0" patternUnits="userSpaceOnUse"><path fill="#0A0F25" d="M2 2h1v1H2zM12 2h1v1h-1zM12 12h1v1h-1zM2 12h1v1H2zM2 7h1v1H2zM12 7h1v1h-1zM7 2h1v1H7zM7 12h1v1H7zM7 7h1v1H7z" opacity=".1" style="mix-blend-mode:multiply"/></pattern></defs><defs><filter id="shadow-filter" width="200%" height="200%" x="-50%" y="-50%"><feGaussianBlur in="SourceGraphic" stdDeviation="1.7"/><feFlood flood-color="#3d4574" flood-opacity=".4" result="ShadowFeFlood"/><feComposite in="ShadowFeFlood" in2="SourceAlpha" operator="in" result="ShadowFeComposite"/><feOffset dx="3" dy="5" in="ShadowFeComposite" result="ShadowFeOffset"/><feBlend in="SourceGraphic" in2="ShadowFeOffset" result="ShadowFeBlend"/></filter></defs><g id="top-row" class="empty"><g class="shape"><path fill="transparent" d="M0 0h960v181H0z" class="stroke-B1" style="stroke-width:0"/><path d="M0 0h960v181H0z" class="dots-overlay" style="stroke-width:0"/><path fill="transparent" d="M5 5h950v171H5z" class="stroke-B1" style="stroke-width:0"/></g></g><g id="bottom-row" class="empty"><g class="shape"><path fill="transparent" d="M0 221h960v366H0z" class="stroke-B1" style="stroke-width:0"/><path d="M0 221h960v366H0z" class="dots-overlay" style="stroke-width:0"/><path fill="transparent" d="M5 226h950v356H5z" class="stroke-B1" style="stroke-width:0"/></g></g><g id="top-row.title" class="empty"><g class="shape"><path fill="transparent" d="M100 10h365v161H100z" class="stroke-B1" style="stroke-width:0"/></g><text x="282.5" y="98.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:22px">枚举不同变体内存占用情况</text></g><g id="top-row.code"><g style="display:block"><path d="M0 0h314v161H0z" class="shape stroke-N1" style="fill:#fff;stroke-width:2" transform="translate(475 10)"/><text y="1em" class="text-mono" transform="translate(483 18)"><tspan class="text-mono-bold">enum</tspan> <tspan fill="#458" class="text-mono-bold">Message</tspan><tspan fill="#bbb"> </tspan>{<tspan fill="#bbb">
</tspan></text><text y="2.3em" class="text-mono" transform="translate(483 18)"><tspan fill="#bbb">    </tspan>Quit,<tspan fill="#bbb">
</tspan></text><text y="3.6em" class="text-mono" transform="translate(483 18)"><tspan fill="#bbb">    </tspan>Move<tspan fill="#bbb"> </tspan>{<tspan fill="#bbb"> </tspan>x: <tspan fill="#458" class="text-mono-bold">i32</tspan>,<tspan fill="#bbb"> </tspan>y: <tspan fill="#458" class="text-mono-bold">i32</tspan> },<tspan fill="#bbb">
</tspan></text><text y="4.9em" class="text-mono" transform="translate(483 18)"><tspan fill="#bbb">    </tspan>Write(<tspan fill="#0086b3">String</tspan>),<tspan fill="#bbb">
</tspan></text><text y="6.2em" class="text-mono" transform="translate(483 18)"><tspan fill="#bbb">    </tspan>ChangeColor(<tspan fill="#458" class="text-mono-bold">i32</tspan>,<tspan fill="#bbb"> </tspan><tspan fill="#458" class="text-mono-bold">i32</tspan>,<tspan fill="#bbb"> </tspan><tspan fill="#458" class="text-mono-bold">i32</tspan>),<tspan fill="#bbb">
</tspan></text><text y="7.5em" class="text-mono" transform="translate(483 18)"><tspan fill="#bbb">    </tspan><tspan fill="#998" class="text-mono-italic">// Read(String),
</tspan></text><text y="8.8em" class="text-mono" transform="translate(483 18)">}</text></g></g><g id="bottom-row.Write" class="message"><g class="shape" filter="url(#shadow-filter)"><rect width="960" height="30" y="257" class="stroke-B1 fill-B5" rx="10" style="stroke-width:2"/><rect width="960" height="30" y="257" class="dots-overlay" rx="10" style="stroke-width:2"/></g><text x="919.5" y="245" class="text-mono fill-N1" style="text-anchor:middle;font-size:24px">write</text></g><g id="bottom-row.byte-Write" class="empty"><g class="shape"><path fill="transparent" d="M0 287h960v56H0z" class="stroke-B1" style="stroke-width:0"/><path d="M0 287h960v56H0z" class="dots-overlay" style="stroke-width:0"/></g></g><g id="bottom-row.Move" class="message"><g class="shape" filter="url(#shadow-filter)"><rect width="960" height="30" y="379" class="stroke-B1 fill-B5" rx="10" style="stroke-width:2"/><rect width="960" height="30" y="379" class="dots-overlay" rx="10" style="stroke-width:2"/></g><text x="740.5" y="367" class="text-mono fill-N1" style="text-anchor:middle;font-size:24px">message::move { x: 11, y: 22 }</text></g><g id="bottom-row.byte-move" class="empty"><g class="shape"><path fill="transparent" d="M0 409h960v56H0z" class="stroke-B1" style="stroke-width:0"/><path d="M0 409h960v56H0z" class="dots-overlay" style="stroke-width:0"/></g></g><g id="bottom-row.ChangeColor" class="message"><g class="shape" filter="url(#shadow-filter)"><rect width="960" height="30" y="501" class="stroke-B1 fill-B5" rx="10" style="stroke-width:2"/><rect width="960" height="30" y="501" class="dots-overlay" rx="10" style="stroke-width:2"/></g><text x="748.5" y="489" class="text-mono fill-N1" style="text-anchor:middle;font-size:24px">message::changecolor(6, 7, 8)</text></g><g id="bottom-row.byte-ChangeColor" class="empty"><g class="shape"><path fill="transparent" d="M0 531h960v56H0z" class="stroke-B1" style="stroke-width:0"/><path d="M0 531h960v56H0z" class="dots-overlay" style="stroke-width:0"/></g></g><g id="bottom-row.Write.&quot;len:6&quot;"><g class="shape"><path d="M0 257h320v30H0z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="160" y="277.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">LEN:6</text></g><g id="bottom-row.Write.ptr"><g class="shape"><path d="M320 257h320v30H320z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="480" y="277.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">PTR</text></g><g id="bottom-row.Write.&quot;cap:10&quot;"><g class="shape"><path d="M640 257h320v30H640z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="800" y="277.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">CAP:10</text></g><g id="bottom-row.byte-Write.31-16" class="outside-empty"><g class="shape"><path fill="transparent" d="M0 313h320v30H0z" class="stroke-B1" style="stroke-width:0"/></g><text x="291" y="303" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">31-16</text></g><g id="bottom-row.byte-Write.15-8" class="outside-empty"><g class="shape"><path fill="transparent" d="M320 313h320v30H320z" class="stroke-B1" style="stroke-width:0"/></g><text x="616.5" y="303" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">15-8</text></g><g id="bottom-row.byte-Write.7-0" class="outside-empty"><g class="shape"><path fill="transparent" d="M640 313h320v30H640z" class="stroke-B1" style="stroke-width:0"/></g><text x="940.5" y="303" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">7-0</text></g><g id="bottom-row.Move.blank" class="invisible"><g class="shape"><path d="M0 379h320v30H0z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g></g><g id="bottom-row.Move.22"><g class="shape"><path d="M320 379h160v30H320z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="400" y="399.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">22</text></g><g id="bottom-row.Move.11"><g class="shape"><path d="M480 379h160v30H480z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="560" y="399.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">11</text></g><g id="bottom-row.Move.0x80"><g class="shape"><path d="M640 379h40v30h-40z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="660" y="399.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">0X80</text></g><g id="bottom-row.Move.1"><g class="shape"><path d="M680 379h280v30H680z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="820" y="399.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">1</text></g><g id="bottom-row.byte-move.31-16" class="outside-empty"><g class="shape"><path fill="transparent" d="M0 435h320v30H0z" class="stroke-B1" style="stroke-width:0"/></g><text x="291" y="425" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">31-16</text></g><g id="bottom-row.byte-move.15-12" class="outside-empty"><g class="shape"><path fill="transparent" d="M320 435h160v30H320z" class="stroke-B1" style="stroke-width:0"/></g><text x="451.5" y="425" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">15-12</text></g><g id="bottom-row.byte-move.11-8" class="outside-empty"><g class="shape"><path fill="transparent" d="M480 435h160v30H480z" class="stroke-B1" style="stroke-width:0"/></g><text x="616.5" y="425" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">11-8</text></g><g id="bottom-row.byte-move.7" class="outside-empty"><g class="shape"><path fill="transparent" d="M640 435h40v30h-40z" class="stroke-B1" style="stroke-width:0"/></g><text x="670.5" y="425" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">7</text></g><g id="bottom-row.byte-move.6-0" class="outside-empty"><g class="shape"><path fill="transparent" d="M680 435h280v30H680z" class="stroke-B1" style="stroke-width:0"/></g><text x="940.5" y="425" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">6-0</text></g><g id="bottom-row.ChangeColor.&quot;&quot;" class="shape"><path d="M0 501h160v30H0z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><g id="bottom-row.ChangeColor.8"><g class="shape"><path d="M160 501h160v30H160z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="240" y="521.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">8</text></g><g id="bottom-row.ChangeColor.7"><g class="shape"><path d="M320 501h160v30H320z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="400" y="521.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">7</text></g><g id="bottom-row.ChangeColor.6"><g class="shape"><path d="M480 501h160v30H480z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="560" y="521.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">6</text></g><g id="bottom-row.ChangeColor.0x80"><g class="shape"><path d="M640 501h40v30h-40z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="660" y="521.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">0X80</text></g><g id="bottom-row.ChangeColor.3"><g class="shape"><path d="M680 501h280v30H680z" class="stroke-B1 fill-B6" style="stroke-width:2"/></g><text x="820" y="521.5" class="text-mono-bold fill-N1" style="text-anchor:middle;font-size:16px">3</text></g><g id="bottom-row.byte-ChangeColor.31-16" class="outside-empty"><g class="shape"><path fill="transparent" d="M0 557h320v30H0z" class="stroke-B1" style="stroke-width:0"/></g><text x="291" y="547" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">31-16</text></g><g id="bottom-row.byte-ChangeColor.15-12" class="outside-empty"><g class="shape"><path fill="transparent" d="M320 557h160v30H320z" class="stroke-B1" style="stroke-width:0"/></g><text x="451.5" y="547" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">15-12</text></g><g id="bottom-row.byte-ChangeColor.11-8" class="outside-empty"><g class="shape"><path fill="transparent" d="M480 557h160v30H480z" class="stroke-B1" style="stroke-width:0"/></g><text x="616.5" y="547" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">11-8</text></g><g id="bottom-row.byte-ChangeColor.7" class="outside-empty"><g class="shape"><path fill="transparent" d="M640 557h40v30h-40z" class="stroke-B1" style="stroke-width:0"/></g><text x="670.5" y="547" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">7</text></g><g id="bottom-row.byte-ChangeColor.6-0" class="outside-empty"><g class="shape"><path fill="transparent" d="M680 557h280v30H680z" class="stroke-B1" style="stroke-width:0"/></g><text x="940.5" y="547" fill="gray" class="text-mono-bold" style="text-anchor:middle;font-size:16px">6-0</text></g><g id="(top-row -&gt; bottom-row)[0]"><marker id="mk-4044349442" markerHeight="28" markerUnits="userSpaceOnUse" markerWidth="22" orient="auto" refX="13" refY="14" viewBox="0 0 22 28"><path stroke-width="6" d="m0 0 22 14L0 28z" class="connection" style="fill:#000410"/></marker><path fill="none" marker-end="url(#mk-4044349442)" d="M480 184v28" class="connection stroke-B1" mask="url(#d2-3436181431)" style="stroke-width:6"/></g><mask id="d2-3436181431" width="965" height="587" x="-1" y="0" maskUnits="userSpaceOnUse"><path fill="#fff" d="M-1 0h965v587H-1z"/><path fill="rgba(0,0,0,0.75)" d="M122.5 76.5h320v28h-320zM475 10h298v145H475zM884 221h71v31h-71zM526 343h429v31H526zM542 465h413v31H542zM136.5 261.5h47v21h-47zM465.5 261.5h29v21h-29zM771.5 261.5h57v21h-57zM267 287h48v21h-48zM598 287h37v21h-37zM926 287h29v21h-29zM390.5 383.5h19v21h-19zM551 383.5h18v21h-18zM641 383.5h38v21h-38zM816 383.5h8v21h-8zM267 409h48v21h-48zM428 409h47v21h-47zM598 409h37v21h-37zM666 409h9v21h-9zM926 409h29v21h-29zM235.5 505.5h9v21h-9zM395.5 505.5h9v21h-9zM555.5 505.5h9v21h-9zM641 505.5h38v21h-38zM815.5 505.5h9v21h-9zM267 531h48v21h-48zM428 531h47v21h-47zM598 531h37v21h-37zM666 531h9v21h-9zM926 531h29v21h-29z"/></mask></svg></svg>