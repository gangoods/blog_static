<svg xmlns="http://www.w3.org/2000/svg" width="699" height="682" preserveAspectRatio="none" style="width:699px;height:682px;background:#fff"><defs><filter id="a" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3"/></filter><filter id="b" width="1" height="1" x="0" y="0"><feFlood flood-color="orange" result="flood"/><feComposite in="SourceGraphic" in2="flood"/></filter></defs><text x="627" y="19.282" fill="#888" font-family="sans-serif" font-size="10" textLength="52">made by x</text><text x="316.5" y="45.636" font-family="sans-serif" font-size="14" font-weight="bold" textLength="56">内存管理</text><rect width="80" height="40.297" x="10" y="130.234" fill="#A8EB99" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="22" y="155.23" font-family="sans-serif" font-size="14" textLength="56">内存管理</text><rect width="178" height="40.297" x="140" y="69.938" fill="#FBC" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="152" y="94.933" font-family="sans-serif" font-size="14" textLength="154">垃圾回收器自动回收机制</text><rect width="71" height="40.297" x="368" y="69.938" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="380" y="94.933" font-family="sans-serif" font-size="14" textLength="47">golang</text><path fill="none" d="M318 90.086h50" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><path fill="none" d="M90 150.383h10c15 0 15-60.297 30-60.297h10" style="stroke:green;stroke-width:1;stroke-dasharray:5,5"/><rect width="122" height="40.297" x="140" y="130.234" fill="#EAB8DE" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="152" y="155.23" font-family="sans-serif" font-size="14" textLength="98">自己分配和回收</text><rect width="32" height="40.297" x="312" y="130.234" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="324" y="155.23" font-family="sans-serif" font-size="14" textLength="8">c</text><path fill="none" d="M262 150.383h50" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><path fill="none" d="M90 150.383h50" style="stroke:green;stroke-width:1;stroke-dasharray:5,5"/><rect width="66" height="40.297" x="140" y="190.531" fill="#EAB8DE" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="152" y="215.526" font-family="sans-serif" font-size="14" textLength="42">所有权</text><rect width="51" height="40.297" x="256" y="190.531" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="268" y="215.526" font-family="sans-serif" font-size="14" textLength="27">rust</text><path fill="none" d="M206 210.68h50" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><path fill="none" d="M90 150.383h10c15 0 15 60.297 30 60.297h10" style="stroke:green;stroke-width:1;stroke-dasharray:5,5"/><rect width="52" height="40.297" x="10" y="426.016" fill="#A8EB99" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="22" y="451.011" font-family="sans-serif" font-size="14" textLength="28">内存</text><rect width="38" height="40.297" x="112" y="357.57" fill="#EAB8DE" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="124" y="382.565" font-family="sans-serif" font-size="14" textLength="14">栈</text><rect width="169" height="40.297" x="200" y="250.828" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="275.823" font-family="sans-serif" font-size="14" textLength="145">栈指针移动的方式,FILO</text><path fill="none" d="M150 377.719h10c15 0 15-106.742 30-106.742h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><rect width="480" height="40.297" x="200" y="311.125" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="336.12" font-family="sans-serif" font-size="14" textLength="456">非常快,因为不用去找一块可用的内存去存数据,直接就是栈指针指向的位置</text><path fill="none" d="M150 377.719h10c15 0 15-46.446 30-46.446h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><rect width="392" height="72.891" x="200" y="371.422" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="396.417" font-family="sans-serif" font-size="14" textLength="368">每个函数都会开辟自己的栈帧,一个预先就确定大小的栈空间</text><text x="305" y="412.714" font-family="sans-serif" font-size="14" textLength="182">不同的函数有不同大小的栈帧</text><text x="280" y="429.011" font-family="sans-serif" font-size="14" textLength="232">参数,局部变量,返回地址都存放在栈上</text><path fill="none" d="M150 377.719h10c15 0 15 30.148 30 30.148h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><rect width="350" height="40.297" x="200" y="464.313" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="489.308" filter="url(#b)" font-family="sans-serif" font-size="14" textLength="154">栈内存无回收分配的概念</text><text x="366" y="489.308" font-family="sans-serif" font-size="14" textLength="172">,因为它只要通过栈指针移动</text><path fill="none" d="M150 377.719h10c15 0 15 106.742 30 106.742h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><path fill="none" d="M62 446.164h10c15 0 15-68.445 30-68.445h10" style="stroke:green;stroke-width:1;stroke-dasharray:5,5"/><rect width="38" height="40.297" x="112" y="562.906" fill="#EAB8DE" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="124" y="587.901" font-family="sans-serif" font-size="14" textLength="14">堆</text><rect width="360" height="56.594" x="200" y="524.609" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="549.605" font-family="sans-serif" font-size="14" textLength="336">需要在堆上找到一个足够大小的内存(这个查找会耗时),</text><text x="247" y="565.901" font-family="sans-serif" font-size="14" textLength="266">标记为在用,返回指针(存的这块内存的地址)</text><path fill="none" d="M150 583.055h10c15 0 15-30.149 30-30.149h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><rect width="424" height="40.297" x="200" y="601.203" fill="#FBE972" filter="url(#a)" rx="7.5" ry="7.5" style="stroke:#000;stroke-width:1"/><text x="212" y="626.198" font-family="sans-serif" font-size="14" textLength="400">需要回收,要不然已经没在用的还给标记为在用,那就没内存可用了</text><path fill="none" d="M150 583.055h10c15 0 15 38.297 30 38.297h10" style="stroke:red;stroke-width:1;stroke-dasharray:5,5"/><path fill="none" d="M62 446.164h10c15 0 15 136.89 30 136.89h10" style="stroke:green;stroke-width:1;stroke-dasharray:5,5"/><text x="331" y="665.495" font-family="sans-serif" font-size="14" textLength="27">图 1</text></svg>